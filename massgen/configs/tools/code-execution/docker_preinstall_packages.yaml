# Example: Docker with Pre-installed Packages
#
# This example shows how to pre-install base packages that are always available
# in your Docker containers. These packages install BEFORE workspace scanning.
#
# Prerequisites:
# 1. Docker daemon running
# 2. Build the Docker image: bash massgen/docker/build.sh --sudo
#
# Usage:
#   uv run massgen massgen/configs/tools/code-execution/docker_preinstall_packages.yaml "Verify pre-installed packages: check for requests, numpy, pytest (Python), typescript (npm), and curl/vim (system)"

agent:
  id: "preinstall_agent"
  backend:
    type: "openai"
    model: "gpt-5-mini"
    cwd: "workspace"
    enable_mcp_command_line: true

    # Docker configuration
    command_line_execution_mode: "docker"
    command_line_docker_enable_sudo: true  # Required for system packages
    command_line_docker_network_mode: "bridge"  # Required for package downloads

    # Pre-install base packages (runs FIRST, before workspace scanning)
    command_line_docker_packages:
      preinstall:
        python:
          - "requests>=2.31.0"
          - "numpy>=1.24.0"
          - "pytest>=7.0.0"
        npm:
          - "typescript"
        system:
          - "curl"
          - "vim"

orchestrator:
  snapshot_storage: "snapshots"
  agent_temporary_workspace: "temp_workspaces"

timeout_settings:
  orchestrator_timeout_seconds: 300  # Longer for package installs

ui:
  display_type: "rich_terminal"
  logging_enabled: true
